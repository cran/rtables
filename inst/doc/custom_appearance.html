<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Davide Garolini, Abinaya Yogasekaram, and Gabriel Becker" />

<meta name="date" content="2023-03-02" />

<title>Customizing Appearance</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Customizing Appearance</h1>
<h4 class="author">Davide Garolini, Abinaya Yogasekaram, and Gabriel
Becker</h4>
<h4 class="date">2023-03-02</h4>



<style type="text/css">
.reveal .r code {
white-space: pre;
}
</style>
<div id="customizing-appearance" class="section level2">
<h2>Customizing Appearance</h2>
<p>In this vignette, we describe the various ways we can modify and
customize the appearance of <code>rtables</code>.</p>
<p>Loading the package:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rtables)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<div id="rows-and-cell-values-alignments" class="section level3">
<h3>Rows and cell values alignments</h3>
<p>It is possible to align the content by assigning <code>&quot;left&quot;</code>,
<code>&quot;center&quot;</code> (default), and <code>&quot;right&quot;</code> to
<code>.aligns</code> and <code>align</code> arguments in
<code>in_rows()</code> and <code>rcell()</code>, respectively.</p>
<p>Please consider using <code>?in_rows</code> and <code>?rcell</code>
for further clarifications on the two arguments, and use
<code>rtables_aligns()</code> to see all available alignment
options.</p>
<p>In the following we show two simplified examples that use
<code>align</code> and <code>.aligns</code>, respectively.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In rcell we use align.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>, <span class="cf">function</span>(x) {</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">in_rows</span>(</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">left =</span> <span class="fu">rcell</span>(<span class="st">&quot;l&quot;</span>, <span class="at">align =</span> <span class="st">&quot;left&quot;</span>),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">right =</span> <span class="fu">rcell</span>(<span class="st">&quot;r&quot;</span>, <span class="at">align =</span> <span class="st">&quot;right&quot;</span>),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">center =</span> <span class="fu">rcell</span>(<span class="st">&quot;c&quot;</span>, <span class="at">align =</span> <span class="st">&quot;center&quot;</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">build_table</span>(lyt, DM)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>tbl</span></code></pre></div>
<pre><code>#          all obs
# ————————————————
# left     l      
# right          r
# center      c</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In in_rows, we use .aligns. This can either set the general value or the</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   single values (see NB).</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>lyt2 <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>, <span class="cf">function</span>(x) {</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">in_rows</span>(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">left =</span> <span class="fu">rcell</span>(<span class="st">&quot;l&quot;</span>),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">right =</span> <span class="fu">rcell</span>(<span class="st">&quot;r&quot;</span>),</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">center =</span> <span class="fu">rcell</span>(<span class="st">&quot;c&quot;</span>),</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">.aligns =</span> <span class="fu">c</span>(<span class="st">&quot;right&quot;</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="co"># NB: .aligns = c(&quot;right&quot;, &quot;left&quot;, &quot;center&quot;)</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>tbl2 <span class="ot">&lt;-</span> <span class="fu">build_table</span>(lyt2, DM)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>tbl2</span></code></pre></div>
<pre><code>#          all obs
# ————————————————
# left           l
# right          r
# center         c</code></pre>
<p>These concepts can be well applied to any clinical table as shown in
the following, more complex, example.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>lyt3 <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;SEX&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="fu">c</span>(<span class="st">&quot;AGE&quot;</span>, <span class="st">&quot;STRATA1&quot;</span>), <span class="cf">function</span>(x) {</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">is.numeric</span>(x)) {</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">in_rows</span>(</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;mean&quot;</span> <span class="ot">=</span> <span class="fu">rcell</span>(<span class="fu">mean</span>(x)),</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;sd&quot;</span> <span class="ot">=</span> <span class="fu">rcell</span>(<span class="fu">sd</span>(x)),</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">.formats =</span> <span class="fu">c</span>(<span class="st">&quot;xx.x&quot;</span>), <span class="at">.aligns =</span> <span class="st">&quot;left&quot;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">is.factor</span>(x)) {</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rcell</span>(<span class="fu">length</span>(<span class="fu">unique</span>(x)), <span class="at">align =</span> <span class="st">&quot;right&quot;</span>)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">&quot;Unsupported type&quot;</span>)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">show_labels =</span> <span class="st">&quot;visible&quot;</span>, <span class="at">na_str =</span> <span class="st">&quot;NE&quot;</span>)</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>tbl3 <span class="ot">&lt;-</span> <span class="fu">build_table</span>(lyt3, ex_adsl)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>tbl3</span></code></pre></div>
<pre><code>#                    A: Drug X   B: Placebo   C: Combination
# ——————————————————————————————————————————————————————————
# F                                                         
#   AGE                                                     
#     mean           32.8        34.1         35.2          
#     sd             6.1         7.1          7.4           
#   STRATA1                                                 
#     STRATA1                3            3                3
# M                                                         
#   AGE                                                     
#     mean           35.6        37.4         35.4          
#     sd             7.1         8.7          8.2           
#   STRATA1                                                 
#     STRATA1                3            3                3
# U                                                         
#   AGE                                                     
#     mean           31.7        31.0         35.2          
#     sd             3.2         5.7          3.1           
#   STRATA1                                                 
#     STRATA1                3            2                3
# UNDIFFERENTIATED                                          
#   AGE                                                     
#     mean           28.0        NE           45.0          
#     sd             NE          NE           1.4           
#   STRATA1                                                 
#     STRATA1                1            0                2</code></pre>
</div>
<div id="top-left-materials" class="section level3">
<h3>Top-left Materials</h3>
<p>The sequence of strings printed in the area between the column header
display and the first row label can be modified during pre-processing
using label position argument in row splits <code>split_rows_by</code>,
with the <code>append_topleft</code> function, and during
post-processing using the <code>top_left()</code> function. Note:
Indenting is automatically added <code>label_pos = &quot;topleft&quot;</code>.</p>
<p>Within the layout initializer:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;STRATA1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">append_topleft</span>(<span class="st">&quot;New top_left material here&quot;</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">build_table</span>(lyt, DM)</span></code></pre></div>
<pre><code># New top_left material here   A: Drug X   B: Placebo   C: Combination
# ————————————————————————————————————————————————————————————————————
# A                                                                   
#   Mean                         32.53       32.30          35.76     
# B                                                                   
#   Mean                         35.46       32.42          34.39     
# C                                                                   
#   Mean                         36.34       34.45          33.54</code></pre>
<p>Specify label position using the <code>split_rows</code> function.
Notice the position of <code>STRATA1</code> and <code>SEX</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;STRATA1&quot;</span>, <span class="at">label_pos =</span> <span class="st">&quot;topleft&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;SEX&quot;</span>, <span class="at">label_pos =</span> <span class="st">&quot;topleft&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="fu">build_table</span>(lyt, DM)</span></code></pre></div>
<pre><code># STRATA1                                                     
#   SEX                A: Drug X   B: Placebo   C: Combination
# ————————————————————————————————————————————————————————————
# A                                                           
#   F                                                         
#     Mean               30.91       32.91          35.95     
#   M                                                         
#     Mean               35.07       31.09          35.60     
#   U                                                         
#     Mean                NA           NA             NA      
#   UNDIFFERENTIATED                                          
#     Mean                NA           NA             NA      
# B                                                           
#   F                                                         
#     Mean               34.85       32.88          34.42     
#   M                                                         
#     Mean               36.64       32.09          34.37     
#   U                                                         
#     Mean                NA           NA             NA      
#   UNDIFFERENTIATED                                          
#     Mean                NA           NA             NA      
# C                                                           
#   F                                                         
#     Mean               35.19       36.00          34.32     
#   M                                                         
#     Mean               37.39       32.81          32.83     
#   U                                                         
#     Mean                NA           NA             NA      
#   UNDIFFERENTIATED                                          
#     Mean                NA           NA             NA</code></pre>
<p>Post-processing using the <code>top_left()</code> function:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;SEX&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="fu">c</span>(<span class="st">&quot;AGE&quot;</span>, <span class="st">&quot;STRATA1&quot;</span>), <span class="cf">function</span>(x) {</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">is.numeric</span>(x)) {</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">in_rows</span>(</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;mean&quot;</span> <span class="ot">=</span> <span class="fu">rcell</span>(<span class="fu">mean</span>(x)),</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;sd&quot;</span> <span class="ot">=</span> <span class="fu">rcell</span>(<span class="fu">sd</span>(x)),</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">.formats =</span> <span class="fu">c</span>(<span class="st">&quot;xx.x&quot;</span>), <span class="at">.aligns =</span> <span class="st">&quot;left&quot;</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">is.factor</span>(x)) {</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rcell</span>(<span class="fu">length</span>(<span class="fu">unique</span>(x)), <span class="at">align =</span> <span class="st">&quot;right&quot;</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">&quot;Unsupported type&quot;</span>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">show_labels =</span> <span class="st">&quot;visible&quot;</span>, <span class="at">na_str =</span> <span class="st">&quot;NE&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">build_table</span>(ex_adsl)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding top-left material</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="fu">top_left</span>(lyt) <span class="ot">&lt;-</span> <span class="st">&quot;New top-left material here&quot;</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>lyt</span></code></pre></div>
<pre><code># New top-left material here   A: Drug X   B: Placebo   C: Combination
# ————————————————————————————————————————————————————————————————————
# F                                                                   
#   AGE                                                               
#     mean                     32.8        34.1         35.2          
#     sd                       6.1         7.1          7.4           
#   STRATA1                                                           
#     STRATA1                          3            3                3
# M                                                                   
#   AGE                                                               
#     mean                     35.6        37.4         35.4          
#     sd                       7.1         8.7          8.2           
#   STRATA1                                                           
#     STRATA1                          3            3                3
# U                                                                   
#   AGE                                                               
#     mean                     31.7        31.0         35.2          
#     sd                       3.2         5.7          3.1           
#   STRATA1                                                           
#     STRATA1                          3            2                3
# UNDIFFERENTIATED                                                    
#   AGE                                                               
#     mean                     28.0        NE           45.0          
#     sd                       NE          NE           1.4           
#   STRATA1                                                           
#     STRATA1                          1            0                2</code></pre>
</div>
<div id="table-inset" class="section level3">
<h3>Table Inset</h3>
<p>Table title, table body, referential footnotes and and main footers
can be inset from the left alignment of the titles and provenance footer
materials. This can be modified within the layout initializer
<code>basic_table()</code> using the <code>inset</code> argument or
during post-processing with <code>table_inset()</code>.</p>
<p>Using the layout initializer:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>(<span class="at">inset =</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">build_table</span>(lyt, DM)</span></code></pre></div>
<pre><code>#             all obs
#      ——————————————
#      Mean    34.22</code></pre>
<p>Using the post-processing function:</p>
<p>Without inset -</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">build_table</span>(lyt, DM)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>tbl</span></code></pre></div>
<pre><code>#        all obs
# ——————————————
# Mean    34.22</code></pre>
<p>With an inset of 5 characters -</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table_inset</span>(tbl) <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>tbl</span></code></pre></div>
<pre><code>#             all obs
#      ——————————————
#      Mean    34.22</code></pre>
<p>Below is an example with a table produced for clinical data. Compare
the inset of the table and main footer between the two tables.</p>
<p>Without inset -</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>analysisfun <span class="ot">&lt;-</span> <span class="cf">function</span>(x, ...) {</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">in_rows</span>(<span class="at">row1 =</span> <span class="dv">5</span>,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">row2 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">.row_footnotes =</span> <span class="fu">list</span>(<span class="at">row1 =</span> <span class="st">&quot;row 1 rfn&quot;</span>),</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">.cell_footnotes =</span> <span class="fu">list</span>(<span class="at">row2 =</span> <span class="st">&quot;row 2 cfn&quot;</span>))</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>(<span class="at">title =</span> <span class="st">&quot;Title says Whaaaat&quot;</span>, <span class="at">subtitles =</span> <span class="st">&quot;Oh, ok.&quot;</span>,</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">main_footer =</span> <span class="st">&quot;ha HA! Footer!&quot;</span>, <span class="at">prov_footer =</span> <span class="st">&quot;provenaaaaance&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">split_cols_by</span>(<span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>, <span class="at">afun =</span> analysisfun)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span>  <span class="fu">build_table</span>(lyt, ex_adsl)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>result</span></code></pre></div>
<pre><code># Title says Whaaaat
# Oh, ok.
# 
# ——————————————————————————————————————————————————
#            A: Drug X   B: Placebo   C: Combination
# ——————————————————————————————————————————————————
# row1 {1}       5           5              5       
# row2       1, 2 {2}     1, 2 {3}       1, 2 {4}   
# ——————————————————————————————————————————————————
# 
# {1} - row 1 rfn
# {2} - row 2 cfn
# {3} - row 2 cfn
# {4} - row 2 cfn
# ——————————————————————————————————————————————————
# 
# ha HA! Footer!
# 
# provenaaaaance</code></pre>
<p>With inset -</p>
<p>Notice, the inset does not apply to any title materials (main title,
subtitles, page titles), or provenance footer materials. Inset settings
is applied to top-left materials, referential footnotes main footer
materials and any horizontal dividers.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table_inset</span>(result) <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>result</span></code></pre></div>
<pre><code># Title says Whaaaat
# Oh, ok.
# 
#      ——————————————————————————————————————————————————
#                 A: Drug X   B: Placebo   C: Combination
#      ——————————————————————————————————————————————————
#      row1 {1}       5           5              5       
#      row2       1, 2 {2}     1, 2 {3}       1, 2 {4}   
#      ——————————————————————————————————————————————————
# 
#      {1} - row 1 rfn
#      {2} - row 2 cfn
#      {3} - row 2 cfn
#      {4} - row 2 cfn
#      ——————————————————————————————————————————————————
# 
#      ha HA! Footer!
# 
# provenaaaaance</code></pre>
</div>
<div id="horizontal-separation" class="section level3">
<h3>Horizontal Separation</h3>
<p>A character value can be specified to modify the horizontal
separation between column headers and the table. Horizontal separation
applies when:</p>
<ol style="list-style-type: decimal">
<li>separating title + subtitles from the column labels + topleft
materials,</li>
<li>column labels + top left material from row labels + cells,</li>
<li>row labels + cells from footer content, and</li>
<li>Referential footnotes from main + provenance content there would be
something on both sides of the divider.</li>
</ol>
<p>Below, we replace the default line with “=”.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;Species&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_colcounts</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="fu">c</span>(<span class="st">&quot;Sepal.Length&quot;</span>, <span class="st">&quot;Petal.Width&quot;</span>), <span class="cf">function</span>(x) {</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">in_rows</span>(</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean_sd =</span> <span class="fu">c</span>(<span class="fu">mean</span>(x), <span class="fu">sd</span>(x)),</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">var =</span> <span class="fu">var</span>(x),</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">min_max =</span> <span class="fu">range</span>(x),</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">.formats =</span> <span class="fu">c</span>(<span class="st">&quot;xx.xx (xx.xx)&quot;</span>, <span class="st">&quot;xx.xxx&quot;</span>, <span class="st">&quot;xx.x - xx.x&quot;</span>),</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">.labels =</span> <span class="fu">c</span>(<span class="st">&quot;Mean (sd)&quot;</span>, <span class="st">&quot;Variance&quot;</span>, <span class="st">&quot;Min - Max&quot;</span>)</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  }) <span class="sc">%&gt;%</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">build_table</span>(iris, <span class="at">hsep =</span> <span class="st">&quot;=&quot;</span>)</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>tbl</span></code></pre></div>
<pre><code>#                  setosa      versicolor     virginica 
#                  (N=50)        (N=50)        (N=50)   
# ======================================================
# Sepal.Length                                          
#   Mean (sd)    5.01 (0.35)   5.94 (0.52)   6.59 (0.64)
#   Variance        0.124         0.266         0.404   
#   Min - Max     4.3 - 5.8     4.9 - 7.0     4.9 - 7.9 
# Petal.Width                                           
#   Mean (sd)    0.25 (0.11)   1.33 (0.20)   2.03 (0.27)
#   Variance        0.011         0.039         0.075   
#   Min - Max     0.1 - 0.6     1.0 - 1.8     1.4 - 2.5</code></pre>
</div>
<div id="section-dividers" class="section level3">
<h3>Section Dividers</h3>
<p>A character value can be specified as a section divider which succeed
every group defined by a split instruction. Note, a trailing divider at
the end of the table is never printed.</p>
<p>Below, a “+” is repeated and used as a section divider.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;Species&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="fu">head</span>(<span class="fu">names</span>(iris), <span class="sc">-</span><span class="dv">1</span>), <span class="at">afun =</span> <span class="cf">function</span>(x) {</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;mean / sd&quot;</span> <span class="ot">=</span> <span class="fu">rcell</span>(<span class="fu">c</span>(<span class="fu">mean</span>(x), <span class="fu">sd</span>(x)), <span class="at">format =</span> <span class="st">&quot;xx.xx (xx.xx)&quot;</span>),</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;range&quot;</span> <span class="ot">=</span> <span class="fu">rcell</span>(<span class="fu">diff</span>(<span class="fu">range</span>(x)), <span class="at">format =</span> <span class="st">&quot;xx.xx&quot;</span>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">section_div =</span> <span class="st">&quot;+&quot;</span>)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="fu">build_table</span>(lyt, iris)</span></code></pre></div>
<pre><code>#                  setosa      versicolor     virginica 
# ——————————————————————————————————————————————————————
# Sepal.Length                                          
#   mean / sd    5.01 (0.35)   5.94 (0.52)   6.59 (0.64)
#   range           1.50          2.10          3.00    
# ++++++++++++++++++++++++++++++++++++++++++++++++++++++
# Sepal.Width                                           
#   mean / sd    3.43 (0.38)   2.77 (0.31)   2.97 (0.32)
#   range           2.10          1.40          1.60    
# ++++++++++++++++++++++++++++++++++++++++++++++++++++++
# Petal.Length                                          
#   mean / sd    1.46 (0.17)   4.26 (0.47)   5.55 (0.55)
#   range           0.90          2.10          2.40    
# ++++++++++++++++++++++++++++++++++++++++++++++++++++++
# Petal.Width                                           
#   mean / sd    0.25 (0.11)   1.33 (0.20)   2.03 (0.27)
#   range           0.50          0.80          1.10</code></pre>
<p>Section dividers can be set to ” ” to create a blank line.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;Species&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="fu">head</span>(<span class="fu">names</span>(iris), <span class="sc">-</span><span class="dv">1</span>), <span class="at">afun =</span> <span class="cf">function</span>(x) {</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;mean / sd&quot;</span> <span class="ot">=</span> <span class="fu">rcell</span>(<span class="fu">c</span>(<span class="fu">mean</span>(x), <span class="fu">sd</span>(x)), <span class="at">format =</span> <span class="st">&quot;xx.xx (xx.xx)&quot;</span>),</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;range&quot;</span> <span class="ot">=</span> <span class="fu">rcell</span>(<span class="fu">diff</span>(<span class="fu">range</span>(x)), <span class="at">format =</span> <span class="st">&quot;xx.xx&quot;</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">section_div =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="fu">build_table</span>(lyt, iris)</span></code></pre></div>
<pre><code>#                  setosa      versicolor     virginica 
# ——————————————————————————————————————————————————————
# Sepal.Length                                          
#   mean / sd    5.01 (0.35)   5.94 (0.52)   6.59 (0.64)
#   range           1.50          2.10          3.00    
#                                                       
# Sepal.Width                                           
#   mean / sd    3.43 (0.38)   2.77 (0.31)   2.97 (0.32)
#   range           2.10          1.40          1.60    
#                                                       
# Petal.Length                                          
#   mean / sd    1.46 (0.17)   4.26 (0.47)   5.55 (0.55)
#   range           0.90          2.10          2.40    
#                                                       
# Petal.Width                                           
#   mean / sd    0.25 (0.11)   1.33 (0.20)   2.03 (0.27)
#   range           0.50          0.80          1.10</code></pre>
<p>Separation characters can be specified for different row splits.
However, only one will be printed if they “pile up” next to each
other.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;RACE&quot;</span>, <span class="at">section_div =</span> <span class="st">&quot;=&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;STRATA1&quot;</span>, <span class="at">section_div =</span> <span class="st">&quot;~&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>, mean, <span class="at">var_labels =</span> <span class="st">&quot;Age&quot;</span>, <span class="at">format =</span> <span class="st">&quot;xx.xx&quot;</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="fu">build_table</span>(lyt, DM)</span></code></pre></div>
<pre><code>#                                             A: Drug X   B: Placebo   C: Combination
# ———————————————————————————————————————————————————————————————————————————————————
# ASIAN                                                                              
#   A                                                                                
#     mean                                      32.19       33.90          36.81     
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   B                                                                                
#     mean                                      34.12       31.62          34.73     
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   C                                                                                
#     mean                                      36.21       33.00          32.39     
# ===================================================================================
# BLACK OR AFRICAN AMERICAN                                                          
#   A                                                                                
#     mean                                      31.50       28.57          33.62     
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   B                                                                                
#     mean                                      35.60       30.83          33.67     
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   C                                                                                
#     mean                                      35.50       34.18          35.00     
# ===================================================================================
# WHITE                                                                              
#   A                                                                                
#     mean                                      37.67       31.33          33.17     
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   B                                                                                
#     mean                                      39.86       39.00          34.75     
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   C                                                                                
#     mean                                      39.75       44.67          36.75     
# ===================================================================================
# AMERICAN INDIAN OR ALASKA NATIVE                                                   
#   A                                                                                
#     mean                                       NA           NA             NA      
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   B                                                                                
#     mean                                       NA           NA             NA      
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   C                                                                                
#     mean                                       NA           NA             NA      
# ===================================================================================
# MULTIPLE                                                                           
#   A                                                                                
#     mean                                       NA           NA             NA      
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   B                                                                                
#     mean                                       NA           NA             NA      
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   C                                                                                
#     mean                                       NA           NA             NA      
# ===================================================================================
# NATIVE HAWAIIAN OR OTHER PACIFIC ISLANDER                                          
#   A                                                                                
#     mean                                       NA           NA             NA      
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   B                                                                                
#     mean                                       NA           NA             NA      
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   C                                                                                
#     mean                                       NA           NA             NA      
# ===================================================================================
# OTHER                                                                              
#   A                                                                                
#     mean                                       NA           NA             NA      
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   B                                                                                
#     mean                                       NA           NA             NA      
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   C                                                                                
#     mean                                       NA           NA             NA      
# ===================================================================================
# UNKNOWN                                                                            
#   A                                                                                
#     mean                                       NA           NA             NA      
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   B                                                                                
#     mean                                       NA           NA             NA      
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   C                                                                                
#     mean                                       NA           NA             NA</code></pre>
</div>
<div id="indent-modifier" class="section level3">
<h3>Indent Modifier</h3>
<p>Tables by default have indenting at each level of splitting. A custom
indent value can be supplied with the <code>indent_mod</code> argument
within a split function to modify this default. Compare the indenting of
the tables below:</p>
<p>Default Indent -</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">basic_table</span>(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Study XXXXXXXX&quot;</span>,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitles =</span> <span class="fu">c</span>(<span class="st">&quot;subtitle YYYYYYYYYY&quot;</span>, <span class="st">&quot;subtitle2 ZZZZZZZZZ&quot;</span>),</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">main_footer =</span> <span class="st">&quot;Analysis was done using cool methods that are correct&quot;</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">prov_footer =</span> <span class="st">&quot;file: /path/to/stuff/that/lives/there HASH:1ac41b242a&quot;</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;SEX&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;STRATA1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>, mean, <span class="at">format =</span> <span class="st">&quot;xx.x&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">build_table</span>(DM)</span></code></pre></div>
<pre><code># Study XXXXXXXX
# subtitle YYYYYYYYYY
# subtitle2 ZZZZZZZZZ
# 
# ——————————————————————————————————————————————————————————
#                    A: Drug X   B: Placebo   C: Combination
# ——————————————————————————————————————————————————————————
# F                                                         
#   A                                                       
#     mean             30.9         32.9           36.0     
#   B                                                       
#     mean             34.9         32.9           34.4     
#   C                                                       
#     mean             35.2         36.0           34.3     
# M                                                         
#   A                                                       
#     mean             35.1         31.1           35.6     
#   B                                                       
#     mean             36.6         32.1           34.4     
#   C                                                       
#     mean             37.4         32.8           32.8     
# U                                                         
#   A                                                       
#     mean              NA           NA             NA      
#   B                                                       
#     mean              NA           NA             NA      
#   C                                                       
#     mean              NA           NA             NA      
# UNDIFFERENTIATED                                          
#   A                                                       
#     mean              NA           NA             NA      
#   B                                                       
#     mean              NA           NA             NA      
#   C                                                       
#     mean              NA           NA             NA      
# ——————————————————————————————————————————————————————————
# 
# Analysis was done using cool methods that are correct
# 
# file: /path/to/stuff/that/lives/there HASH:1ac41b242a</code></pre>
<p>Modified indent -</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">basic_table</span>(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Study XXXXXXXX&quot;</span>,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitles =</span> <span class="fu">c</span>(<span class="st">&quot;subtitle YYYYYYYYYY&quot;</span>, <span class="st">&quot;subtitle2 ZZZZZZZZZ&quot;</span>),</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">main_footer =</span> <span class="st">&quot;Analysis was done using cool methods that are correct&quot;</span>,</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">prov_footer =</span> <span class="st">&quot;file: /path/to/stuff/that/lives/there HASH:1ac41b242a&quot;</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;SEX&quot;</span>, <span class="at">indent_mod =</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;STRATA1&quot;</span>, <span class="at">indent_mod =</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>, mean, <span class="at">format =</span> <span class="st">&quot;xx.x&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">build_table</span>(DM)</span></code></pre></div>
<pre><code># Study XXXXXXXX
# subtitle YYYYYYYYYY
# subtitle2 ZZZZZZZZZ
# 
# ——————————————————————————————————————————————————————————————————
#                            A: Drug X   B: Placebo   C: Combination
# ——————————————————————————————————————————————————————————————————
#       F                                                           
#                   A                                               
#                     mean     30.9         32.9           36.0     
#                   B                                               
#                     mean     34.9         32.9           34.4     
#                   C                                               
#                     mean     35.2         36.0           34.3     
#       M                                                           
#                   A                                               
#                     mean     35.1         31.1           35.6     
#                   B                                               
#                     mean     36.6         32.1           34.4     
#                   C                                               
#                     mean     37.4         32.8           32.8     
#       U                                                           
#                   A                                               
#                     mean      NA           NA             NA      
#                   B                                               
#                     mean      NA           NA             NA      
#                   C                                               
#                     mean      NA           NA             NA      
#       UNDIFFERENTIATED                                            
#                   A                                               
#                     mean      NA           NA             NA      
#                   B                                               
#                     mean      NA           NA             NA      
#                   C                                               
#                     mean      NA           NA             NA      
# ——————————————————————————————————————————————————————————————————
# 
# Analysis was done using cool methods that are correct
# 
# file: /path/to/stuff/that/lives/there HASH:1ac41b242a</code></pre>
</div>
<div id="variable-label-visibility" class="section level3">
<h3>Variable Label Visibility</h3>
<p>With split instructions, visibility of the label for the variable
being split can be modified to <code>visible</code>, <code>hidden</code>
and <code>topleft</code> with the <code>show_labels</code> argument,
<code>label_pos</code> argument, and <code>child_labels</code> argument
where applicable. Note: this is NOT the name of the levels contained in
the variable. For analyze calls, indicates that the variable should be
visible only if multiple variables are analyzed at the same level of
nesting.</p>
<p>Visibility of labels for the groups generated by a split can also be
modified using the <code>child_label</code> argument with a split call.
The <code>child_label</code> argument can force labels to be visible in
addition to content rows but we cannot hide or move the content
rows.</p>
<p>Notice the placement of the “AGE” label in this example:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>(<span class="at">show_colcounts =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="at">var =</span> <span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;SEX&quot;</span>, <span class="at">split_fun =</span> drop_split_levels, <span class="at">child_labels =</span> <span class="st">&quot;visible&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;STRATA1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>, mean, <span class="at">show_labels =</span> <span class="st">&quot;default&quot;</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="fu">build_table</span>(lyt, DM) </span></code></pre></div>
<pre><code>#               A: Drug X          B: Placebo       C: Combination 
#                (N=121)            (N=106)            (N=129)     
# —————————————————————————————————————————————————————————————————
# F                                                                
#   A                                                              
#     mean   30.9090909090909   32.9090909090909        35.95      
#   B                                                              
#     mean   34.8518518518519   32.8823529411765   34.4210526315789
#   C                                                              
#     mean   35.1904761904762          36          34.3181818181818
# M                                                                
#   A                                                              
#     mean   35.0714285714286   31.0909090909091         35.6      
#   B                                                              
#     mean   36.6428571428571   32.0869565217391   34.3684210526316
#   C                                                              
#     mean   37.3913043478261       32.8125        32.8333333333333</code></pre>
<p>When set to default, the label <code>AGE</code> is not repeated since
there is only one variable being analyzed at the same level of nesting.
Override this by setting the <code>show_labels</code> argument as
“visible”.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>lyt2 <span class="ot">&lt;-</span> <span class="fu">basic_table</span>(<span class="at">show_colcounts =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="at">var =</span> <span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;SEX&quot;</span>, <span class="at">split_fun =</span> drop_split_levels, <span class="at">child_labels =</span> <span class="st">&quot;hidden&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;STRATA1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>, mean, <span class="at">show_labels =</span> <span class="st">&quot;visible&quot;</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="fu">build_table</span>(lyt2, DM) </span></code></pre></div>
<pre><code>#               A: Drug X          B: Placebo       C: Combination 
#                (N=121)            (N=106)            (N=129)     
# —————————————————————————————————————————————————————————————————
# A                                                                
#   AGE                                                            
#     mean   30.9090909090909   32.9090909090909        35.95      
# B                                                                
#   AGE                                                            
#     mean   34.8518518518519   32.8823529411765   34.4210526315789
# C                                                                
#   AGE                                                            
#     mean   35.1904761904762          36          34.3181818181818
# A                                                                
#   AGE                                                            
#     mean   35.0714285714286   31.0909090909091         35.6      
# B                                                                
#   AGE                                                            
#     mean   36.6428571428571   32.0869565217391   34.3684210526316
# C                                                                
#   AGE                                                            
#     mean   37.3913043478261       32.8125        32.8333333333333</code></pre>
<p>Below is an example using the <code>label_pos</code> argument for
modifying label visibility:</p>
<p>Label order will mirror the order of <code>split_rows_by</code>
calls. If the labels of any subgroups should be hidden, the
<code>label_pos</code> arugment should be set to hidden.</p>
<p>“SEX” label position is hidden -</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">basic_table</span>(</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Study XXXXXXXX&quot;</span>,</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitles =</span> <span class="fu">c</span>(<span class="st">&quot;subtitle YYYYYYYYYY&quot;</span>, <span class="st">&quot;subtitle2 ZZZZZZZZZ&quot;</span>),</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">main_footer =</span> <span class="st">&quot;Analysis was done using cool methods that are correct&quot;</span>,</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">prov_footer =</span> <span class="st">&quot;file: /path/to/stuff/that/lives/there HASH:1ac41b242a&quot;</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;SEX&quot;</span>, <span class="at">split_fun =</span> drop_split_levels, <span class="at">label_pos =</span> <span class="st">&quot;visible&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;STRATA1&quot;</span>, <span class="at">label_pos =</span> <span class="st">&quot;hidden&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>, mean, <span class="at">format =</span> <span class="st">&quot;xx.x&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">build_table</span>(DM)</span></code></pre></div>
<pre><code># Study XXXXXXXX
# subtitle YYYYYYYYYY
# subtitle2 ZZZZZZZZZ
# 
# ————————————————————————————————————————————————————
#              A: Drug X   B: Placebo   C: Combination
# ————————————————————————————————————————————————————
# SEX                                                 
#   F                                                 
#     A                                               
#       mean     30.9         32.9           36.0     
#     B                                               
#       mean     34.9         32.9           34.4     
#     C                                               
#       mean     35.2         36.0           34.3     
#   M                                                 
#     A                                               
#       mean     35.1         31.1           35.6     
#     B                                               
#       mean     36.6         32.1           34.4     
#     C                                               
#       mean     37.4         32.8           32.8     
# ————————————————————————————————————————————————————
# 
# Analysis was done using cool methods that are correct
# 
# file: /path/to/stuff/that/lives/there HASH:1ac41b242a</code></pre>
<p>“SEX” label position is with the top-left materials -</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">basic_table</span>(</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">&quot;Study XXXXXXXX&quot;</span>,</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitles =</span> <span class="fu">c</span>(<span class="st">&quot;subtitle YYYYYYYYYY&quot;</span>, <span class="st">&quot;subtitle2 ZZZZZZZZZ&quot;</span>),</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">main_footer =</span> <span class="st">&quot;Analysis was done using cool methods that are correct&quot;</span>,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">prov_footer =</span> <span class="st">&quot;file: /path/to/stuff/that/lives/there HASH:1ac41b242a&quot;</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_cols_by</span>(<span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;SEX&quot;</span>, <span class="at">split_fun =</span> drop_split_levels, <span class="at">label_pos =</span> <span class="st">&quot;topleft&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split_rows_by</span>(<span class="st">&quot;STRATA1&quot;</span>, <span class="at">label_pos =</span> <span class="st">&quot;hidden&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyze</span>(<span class="st">&quot;AGE&quot;</span>, mean, <span class="at">format =</span> <span class="st">&quot;xx.x&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">build_table</span>(DM)</span></code></pre></div>
<pre><code># Study XXXXXXXX
# subtitle YYYYYYYYYY
# subtitle2 ZZZZZZZZZ
# 
# ——————————————————————————————————————————————————
# SEX        A: Drug X   B: Placebo   C: Combination
# ——————————————————————————————————————————————————
# F                                                 
#   A                                               
#     mean     30.9         32.9           36.0     
#   B                                               
#     mean     34.9         32.9           34.4     
#   C                                               
#     mean     35.2         36.0           34.3     
# M                                                 
#   A                                               
#     mean     35.1         31.1           35.6     
#   B                                               
#     mean     36.6         32.1           34.4     
#   C                                               
#     mean     37.4         32.8           32.8     
# ——————————————————————————————————————————————————
# 
# Analysis was done using cool methods that are correct
# 
# file: /path/to/stuff/that/lives/there HASH:1ac41b242a</code></pre>
</div>
<div id="cell-label-and-annotation-wrapping" class="section level3">
<h3>Cell, Label, and Annotation Wrapping</h3>
<p>An <code>rtable</code> can be rendered with a customized width by
setting custom rendering widths for cell contents, row labels, and
titles/footers.</p>
<p>This is demonstrated using the sample data and table below. In this
section we aim to render this table with a reduced width since the table
has very wide contents in several cells, labels, and titles/footers.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>trimmed_data <span class="ot">&lt;-</span> ex_adsl <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(SEX <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;F&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(RACE <span class="sc">%in%</span> <span class="fu">levels</span>(RACE)[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>])</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(trimmed_data<span class="sc">$</span>ARM)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Incredibly long column name to be wrapped&quot;</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(trimmed_data<span class="sc">$</span>ARM)[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">&quot;This_column_name_should_be_split_somewhere&quot;</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>wide_tbl <span class="ot">&lt;-</span> <span class="fu">basic_table</span>(</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Title that is too long and also needs to be wrapped to a smaller width&quot;</span>,</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitles =</span> <span class="st">&quot;Subtitle that is also long and also needs to be wrapped to a smaller width&quot;</span>,</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">main_footer =</span> <span class="st">&quot;Footnote that is wider than expected for this table.&quot;</span>,</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">prov_footer =</span> <span class="st">&quot;Provenance footer material that is also wider than expected for this table.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">split_cols_by</span>(<span class="st">&quot;ARM&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">split_rows_by</span>(<span class="st">&quot;RACE&quot;</span>, <span class="at">split_fun =</span> drop_split_levels) <span class="sc">%&gt;%</span></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">analyze</span>(<span class="fu">c</span>(<span class="st">&quot;AGE&quot;</span>, <span class="st">&quot;EOSDY&quot;</span>),</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">na_str =</span> <span class="st">&quot;Very long cell contents to_be_wrapped_and_splitted&quot;</span>,</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">inclNAs =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">build_table</span>(trimmed_data)</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>wide_tbl</span></code></pre></div>
<pre><code># Title that is too long and also needs to be wrapped to a smaller width
# Subtitle that is also long and also needs to be wrapped to a smaller width
# 
# ————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
#                                 Incredibly long column name to be wrapped            This_column_name_should_be_split_somewhere                         C: Combination                  
# ————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
# ASIAN                                                                                                                                                                                   
#   AGE                                                                                                                                                                                   
#     Mean                                          32.50                                                36.68                                                36.99                       
#   EOSDY                                                                                                                                                                                 
#     Mean                    Very long cell contents to_be_wrapped_and_splitted   Very long cell contents to_be_wrapped_and_splitted   Very long cell contents to_be_wrapped_and_splitted
# BLACK OR AFRICAN AMERICAN                                                                                                                                                               
#   AGE                                                                                                                                                                                   
#     Mean                                          34.27                                                34.93                                                33.71                       
#   EOSDY                                                                                                                                                                                 
#     Mean                    Very long cell contents to_be_wrapped_and_splitted   Very long cell contents to_be_wrapped_and_splitted   Very long cell contents to_be_wrapped_and_splitted
# ————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
# 
# Footnote that is wider than expected for this table.
# 
# Provenance footer material that is also wider than expected for this table.</code></pre>
<p>In the following sections we will use the <code>toString()</code>
function to render the table in string form. This resulting string
representation is ready to be printed or written to a plain text file,
but we will use the <code>strsplit()</code> function in combination with
the <code>matrix()</code> function to preview the rendered wrapped table
in matrix form within this vignette.</p>
<div id="cell-label-wrapping" class="section level4">
<h4>Cell &amp; Label Wrapping</h4>
<p>The width of a rendered table can be customized by wrapping column
widths. This is done by setting custom width values via the
<code>widths</code> argument of the <code>toString()</code> function.
The length of the vector passed to the <code>widths</code> argument must
be equal to the total number of columns in the table, including the row
labels column, with each value of the vector corresponding to the
maximum width (in characters) allowed in each column, from left to
right.</p>
<p>Similarly, wrapping can be applied when exporting a table via one of
the four <code>export_as_*</code> functions and when implementing
pagination via the <code>paginate_table()</code> function from the
<code>rtables</code> package. In these cases, the rendered column widths
are set using the <code>colwidths</code> argument which takes input in
the same format as the <code>widths</code> argument of
<code>toString()</code>.</p>
<p>For example, <code>wide_tbl</code> has four columns (1 row label
column and 3 content columns) which we will set the widths of below to
use in the rendered table. We set the width of the row label column to
10 characters and the widths of each of the 3 content columns to 8
characters. Any words longer than the specified width are broken and
continued on the following line. By default there are 3 spaces
separating each of the columns in the rendered table but this can be
customized via the <code>col_gap</code> argument to
<code>toString()</code> if further width customization is desired.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>result_wrap_cells <span class="ot">&lt;-</span> <span class="fu">toString</span>(wide_tbl, <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>matrix_wrap_cells <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">strsplit</span>(result_wrap_cells, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)[[<span class="dv">1</span>]], <span class="at">ncol =</span> <span class="dv">1</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>matrix_wrap_cells</span></code></pre></div>
<pre><code>#       [,1]                                                                         
#  [1,] &quot;Title that is too long and also needs to be wrapped to a smaller width&quot;     
#  [2,] &quot;Subtitle that is also long and also needs to be wrapped to a smaller width&quot; 
#  [3,] &quot;&quot;                                                                           
#  [4,] &quot;———————————————————————————————————————————&quot;                                
#  [5,] &quot;             Incredib   This_col           &quot;                                
#  [6,] &quot;             ly long    umn_name           &quot;                                
#  [7,] &quot;              column    _should_           &quot;                                
#  [8,] &quot;             name to    be_split           &quot;                                
#  [9,] &quot;                be      _somewhe   C: Combi&quot;                                
# [10,] &quot;             wrapped       re       nation &quot;                                
# [11,] &quot;———————————————————————————————————————————&quot;                                
# [12,] &quot;ASIAN                                      &quot;                                
# [13,] &quot;  AGE                                      &quot;                                
# [14,] &quot;    Mean      32.50      36.68      36.99  &quot;                                
# [15,] &quot;  EOSDY                                    &quot;                                
# [16,] &quot;    Mean       Very       Very       Very  &quot;                                
# [17,] &quot;               long       long       long  &quot;                                
# [18,] &quot;               cell       cell       cell  &quot;                                
# [19,] &quot;             contents   contents   contents&quot;                                
# [20,] &quot;             to_be_wr   to_be_wr   to_be_wr&quot;                                
# [21,] &quot;             apped_an   apped_an   apped_an&quot;                                
# [22,] &quot;             d_splitt   d_splitt   d_splitt&quot;                                
# [23,] &quot;                ed         ed         ed   &quot;                                
# [24,] &quot;BLACK OR                                   &quot;                                
# [25,] &quot;AFRICAN                                    &quot;                                
# [26,] &quot;AMERICAN                                   &quot;                                
# [27,] &quot;  AGE                                      &quot;                                
# [28,] &quot;    Mean      34.27      34.93      33.71  &quot;                                
# [29,] &quot;  EOSDY                                    &quot;                                
# [30,] &quot;    Mean       Very       Very       Very  &quot;                                
# [31,] &quot;               long       long       long  &quot;                                
# [32,] &quot;               cell       cell       cell  &quot;                                
# [33,] &quot;             contents   contents   contents&quot;                                
# [34,] &quot;             to_be_wr   to_be_wr   to_be_wr&quot;                                
# [35,] &quot;             apped_an   apped_an   apped_an&quot;                                
# [36,] &quot;             d_splitt   d_splitt   d_splitt&quot;                                
# [37,] &quot;                ed         ed         ed   &quot;                                
# [38,] &quot;———————————————————————————————————————————&quot;                                
# [39,] &quot;&quot;                                                                           
# [40,] &quot;Footnote that is wider than expected for this table.&quot;                       
# [41,] &quot;&quot;                                                                           
# [42,] &quot;Provenance footer material that is also wider than expected for this table.&quot;</code></pre>
<p>In the resulting output we can see that the table has been correctly
rendered using wrapping with a total width of 43 characters, but that
the titles and footers remain wider than the rendered table.</p>
</div>
<div id="title-footer-wrapping" class="section level4">
<h4>Title &amp; Footer Wrapping</h4>
<p>In addition to wrapping column widths, titles and footers can be
wrapped by setting <code>tf_wrap = TRUE</code> in
<code>toString()</code> and setting the <code>max_width</code> argument
of <code>toString()</code> to the maximum width (in characters) allowed
for titles/footers. The four <code>export_as_*</code> functions and
<code>paginate_table()</code> can also wrap titles/footers by setting
the same two arguments. In the following code, we set
<code>max_width = 43</code> so that the rendered table and all of its
annotations have a maximum width of 43 characters.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>result_wrap_cells_tf <span class="ot">&lt;-</span> <span class="fu">toString</span>(wide_tbl,</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">8</span>),</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">tf_wrap =</span> <span class="cn">TRUE</span>,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">max_width =</span> <span class="dv">43</span>)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>matrix_wrap_cells_tf <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">strsplit</span>(result_wrap_cells_tf, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)[[<span class="dv">1</span>]], <span class="at">ncol =</span> <span class="dv">1</span>)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>matrix_wrap_cells_tf</span></code></pre></div>
<pre><code>#       [,1]                                         
#  [1,] &quot;Title that is too long and also needs to be&quot;
#  [2,] &quot;wrapped to a smaller width&quot;                 
#  [3,] &quot;Subtitle that is also long and also needs&quot;  
#  [4,] &quot;to be wrapped to a smaller width&quot;           
#  [5,] &quot;&quot;                                           
#  [6,] &quot;———————————————————————————————————————————&quot;
#  [7,] &quot;             Incredib   This_col           &quot;
#  [8,] &quot;             ly long    umn_name           &quot;
#  [9,] &quot;              column    _should_           &quot;
# [10,] &quot;             name to    be_split           &quot;
# [11,] &quot;                be      _somewhe   C: Combi&quot;
# [12,] &quot;             wrapped       re       nation &quot;
# [13,] &quot;———————————————————————————————————————————&quot;
# [14,] &quot;ASIAN                                      &quot;
# [15,] &quot;  AGE                                      &quot;
# [16,] &quot;    Mean      32.50      36.68      36.99  &quot;
# [17,] &quot;  EOSDY                                    &quot;
# [18,] &quot;    Mean       Very       Very       Very  &quot;
# [19,] &quot;               long       long       long  &quot;
# [20,] &quot;               cell       cell       cell  &quot;
# [21,] &quot;             contents   contents   contents&quot;
# [22,] &quot;             to_be_wr   to_be_wr   to_be_wr&quot;
# [23,] &quot;             apped_an   apped_an   apped_an&quot;
# [24,] &quot;             d_splitt   d_splitt   d_splitt&quot;
# [25,] &quot;                ed         ed         ed   &quot;
# [26,] &quot;BLACK OR                                   &quot;
# [27,] &quot;AFRICAN                                    &quot;
# [28,] &quot;AMERICAN                                   &quot;
# [29,] &quot;  AGE                                      &quot;
# [30,] &quot;    Mean      34.27      34.93      33.71  &quot;
# [31,] &quot;  EOSDY                                    &quot;
# [32,] &quot;    Mean       Very       Very       Very  &quot;
# [33,] &quot;               long       long       long  &quot;
# [34,] &quot;               cell       cell       cell  &quot;
# [35,] &quot;             contents   contents   contents&quot;
# [36,] &quot;             to_be_wr   to_be_wr   to_be_wr&quot;
# [37,] &quot;             apped_an   apped_an   apped_an&quot;
# [38,] &quot;             d_splitt   d_splitt   d_splitt&quot;
# [39,] &quot;                ed         ed         ed   &quot;
# [40,] &quot;———————————————————————————————————————————&quot;
# [41,] &quot;&quot;                                           
# [42,] &quot;Footnote that is wider than expected for&quot;   
# [43,] &quot;this table.&quot;                                
# [44,] &quot;&quot;                                           
# [45,] &quot;Provenance footer material that is also&quot;    
# [46,] &quot;wider than expected for this table.&quot;</code></pre>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
